<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{fragments/layout :: layout (~{::body},'index')}">

<body>

<div class="jumbotron text-center">
  <div class="container">
    <h1>Covid-19 Global Stats Updates</h1>
    <h2>Sample Java REST Endpoint</h2>
    <p>This is a simple, proof of concept, REST API Java application. For details on functionality, see "How this works further below. Use the the buttons for samples of response data from the endpoints."</p>
    <a type="button" class="btn btn-lg btn-primary" href="https://java-test-bh.herokuapp.com/update"><span class="glyphicon glyphicon-tag"></span>&nbsp;&nbsp;GET single example</a>
    <a type="button" class="btn btn-lg btn-primary" href="https://java-test-bh.herokuapp.com/updates"><span class="glyphicon glyphicon-tags"></span>&nbsp;&nbsp;GET all example</a>
  </div>
</div>
<div class="container">
  <hr>
  <div class="row">
    <div class="col-md-6">
      <h3><span class="glyphicon glyphicon-info-sign"></span> How this works</h3>
      <ul>
        <li>Functionality:</li>
        <ul>
          <li>Step 1: A GET request to <a href="https://corona.lmao.ninja/all">https://corona.lmao.ninja/all</a> to pull current global numbers for cases, losses, recovered, and the current date.</li>
          <li>Step 2: The JSON from the request is parsed into a class that transforms the date format from the API endpoint into a human readable string.</li>
          <li>Step 3: The transformed data from the class is inserted into a SQLite database.</li>
          <li>Step 4: The data in the database is made available via two REST endpoints ("/update" pulls the most recent record; "/updates" pulls all records).</li>
          <li>Step 5: When a request is made to one of the two endpoints the data is pulled from the database, transformed into a JSON string using a StringBuilder, then returned to the requester.</li>
          <li>NOTE: Rather than create a scheduled task to routinely poll <a href="https://corona.lmao.ninja/all">https://corona.lmao.ninja/all</a>, an update is pulled each time a GET request is made to this application. The intention is to use it with an existing website that will pull from this application at regular intervals.</li>
        </ul>
        <li>Deployment: This Java app was deployed to Heroku using a GitHub => Heroku connection.</li>
        <li>Framework: Spring Web Framework</li>
        <li>Build Framework: Maven</li>
        <li>Foundation of Java application and this website: The Java application is based off of <a href="https://github.com/heroku/java-getting-started">Heroku's sample Java app</a>. Extensive modifications were made to the original foundation. No functionality originally existed related to making GET requests, JSON parsing and transformation, SQLite, or hosting REST endpoints.</li>
      </ul>
    </div>
  </div> <!-- row -->
</div>

</body>
</html>
